\documentclass[a4paper, 11pt]{report}

\usepackage[utf8]{inputenc}
\usepackage[frenchb]{babel}
\usepackage[T1]{fontenc}

\begin{document}


\chapter{Interface graphique}

L'interface graphique a été mise au point en OCaml vers du JavaScript
utilisant les canvas introduits en HTML5. Pour réaliser cette
transition, nous avons employé l'outil d'inter-opérabilité
\emph{js_of_ocaml}. Ce dernier contient un compilateur de code-octet
vers JavaScript ainsi qu'une bibliothèque correspondant à l'API
JavaScript. Ce ``binding'' nous apporte ainsi le meilleur des deux
mondes : la portabilité et les possibilités d'usage de JavaScript et,
du côté d'OCaml, la sécurité du programme par le typage et
l'expressivité du langage.

\section{Représentation de l'arbre}

Pour la visualisation des lambda-termes, nous avons choisi une
représentation arborescente. Il a donc été nécessaire de pouvoir
dessiner ces arbres dans les canvas HTML. Par un soucis du détail,
nous avons décidé d'implémenter un algorithme d'agencement de noeuds
afin d'optimiser l'espace et donc améliorer la lisibilité des termes
affichés. 

L'étape du desin de l'arbre dans un canvas, une fois les calcul des
positions des noeuds effectué, est quant à elle, triviale. Il nous
suffit de parcourir l'arbre et de dessiner les noeuds aux coordonnées
associées et de relier visuellement les différents noeuds. Une
fonction récursive s'adapte parfaitement à ce type de manipulation.

\section{Interface utilisateur}

L'interface de l'application se compose : 
\begin{itemize}

\item d'un champ texte, attendant un lambda-terme écrit avec la
  syntaxe spécifiée dans l'annexe de la page html,

\item d'une boite de séléction pour choisir la stratégie de réduction
  à employer (\emph{Appel par nom} ou \emph{Appel par valeur}),

\item d'un bouton lancant l'évaluation lors du click,

\item et d'un canvas qui va nous servir à afficher l'arbre lors de
  l'évaluation.
\end{itemize}

Pour parcourir les différentes réductions effectuées, nous avons inclu
un paneau latéral contenant des boutons ``précédent'' et ``suivant''
ainsi que d'une liste contenant les différents termes à chaque étape
de réduction. Les termes de cette liste (ainsi que les boutons) sont
cliquables et afficheront l'arbre associé. Enfin, ce panneau est
dynamique et ne sera affiché qu'après l'évaluation d'un terme.

Comme évoqué plus haut, nous avons également fourni une annexe
contenant la syntaxe à employer, quelques combinateurs prédéfinis
et des exemples évaluables.

\end{document}
